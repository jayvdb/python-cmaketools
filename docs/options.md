# New Build Command Options Added by `cmaketools`

There are a number of command options modified from the original `setuptools`:

| command     | option               | type                                                                                | description                                                                                                                                                                                                                                                                                                                                                                                                     |
| ----------- | -------------------- | ----------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|             | `src_dir`            | `str`                                                                               | A convenience option to set `package_dir={'':src_dir}`                                                                                                                                                                                                                                                                                                                                                          |
|             | `ext_module_hint`    | `str`                                                                               | A convenience option to set `ext_modules`. Given a regular expression, all reachable `CMakeList.txt` files are searched for a match. The parent directories of the matched `CMakeList.txt` are added to `ext_modules` using their names as the module name.                                                                                                                                                     |
|             | `ext_module_dirs`    | `seq<str>`                                                                          | Another convenience option to set `ext_modules`. All the specified folders are added to `ext_modules`, using the folder name as the module name.                                                                                                                                                                                                                                                                |
| `build_py`  | `use_cmake`          | `bool`                                                                              | Set `True` to run CMake project's `PY` installation component to move Python files to the build directory. `False` to ignore the `PY` installation component and force `setuptools.sdist` to do the build. If not specified, CMake is only used if any `CMakeLists.txt` contains a line: `install(... COMPONENT PY ...)`
        )`.                                                                                                                               |  |

| `sdist`     | `auto_manifest`      | `bool`                                                                              | Set `False` to disallow modification of `MANIFEST.in`. By default, `cmaketools` generates `MANIFEST.in` to include all the subdirectories accessed by CMake, and `.gitmodule` and `.gitmodule_status` files if git submodules are used. If user supplies `MANIFEST.in`, its content is appended to the autogenerated script. Use `sdist.exclude_dirs` option to exclude directories that CMake normally reaches |
| `sdist`     | `exclude_dirs`       | `seq<str>`                                                                          | Specify directories to be excluded from sdist tar ball. Use `;` to specify multiple directories. Use this option with care as it removes the relevant `add_subdirectory()` calls in the source tarball `CMakeLists.txt`. Also, the `.submodule` file is modified to exclude the specified submodules.                                                                                                           |
| `sdist`     | `exclude_submodules` | `seq<str>`                                                                          | Specify git submodules that are not build related (e.g., for testing). Use `;` to specify multiple submodules. Like `sdist.exclude_dirs` related `add_subdirectory()` calls are removed in the source tarball `CMakeLists.txt`.                                                                                                                                                                                 |
| `build_ext` | `cmake_path`         | `str`                                                                               | Name/Path of the CMake executable to use, overriding default auto-detection.                                                                                                                                                                                                                                                                                                                                    |
| `build_ext` | `build_lib`          | `str`                                                                               | Directory for compiled extension modules                                                                                                                                                                                                                                                                                                                                                                        |
| `build_ext` | `inplace`            | `bool`                                                                              | ignore build_lib and put compiled extensions into the source.                                                                                                                                                                                                                                                                                                                                                   |
| `build_ext` | `skip_configure`     | `bool`                                                                              | Set to configure cmake externally (default False)                                                                                                                                                                                                                                                                                                                                                               |
| `build_ext` | `force`              | `bool`                                                                              | forcibly build everything (delete existing CMakeCache.txt)                                                                                                                                                                                                                                                                                                                                                      |
| `build_ext` | `cache`              | `str`                                                                               | (CMake option) Pre-load a CMake script to populate the cache.                                                                                                                                                                                                                                                                                                                                                   |
| `build_ext` | `defines`            | `seq`\|`dict`                                                                       | CMake CACHE entries. If all entries are untyped, `dict` may be used. To define a type of any cache variable, use `seq` (`tuple` or `list`) each of which item could be `str` or `seq`. Format of `str` entry is `name=value` or `name:type=value` while a `seq` entry has 2 or 3 items: `[name, value]` or `[name, type, value]`.                                                                               |
| `build_ext` | `undefs`             | `seq<str>`                                                                          | List of entries to remove from CMake CACHE.                                                                                                                                                                                                                                                                                                                                                                     |
| `build_ext` | `generator`          | `str`                                                                               | (CMake option) Specify a build system generator.                                                                                                                                                                                                                                                                                                                                                                |
| `build_ext` | `toolset`            | `str`                                                                               | (CMake option) Toolset specification for the generator, if supported.                                                                                                                                                                                                                                                                                                                                           |
| `build_ext` | `platform`           | `str`                                                                               | (CMake option) Specify platform name if supported by generator.                                                                                                                                                                                                                                                                                                                                                 |
| `build_ext` | `Wno_dev`            | `bool`                                                                              | (CMake option) Suppress developer warnings."                                                                                                                                                                                                                                                                                                                                                                    |
| `build_ext` | `Wdev`               | `bool`                                                                              | (CMake option) Enable developer warnings.                                                                                                                                                                                                                                                                                                                                                                       |
| `build_ext` | `Werror`             | `bool`                                                                              | (CMake option) Make specified warnings into errors: dev or deprecated.                                                                                                                                                                                                                                                                                                                                          |
| `build_ext` | `Wno_error`          | `bool`                                                                              | (CMake option) Make specified warnings not errors.                                                                                                                                                                                                                                                                                                                                                              |
| `build_ext` | `Wdeprecated`        | `bool`                                                                              | (CMake option) Enable deprecated functionality warnings.                                                                                                                                                                                                                                                                                                                                                        |
| `build_ext` | `Wno_deprecated`     | `bool`                                                                              | (CMake option) Suppress deprecated functionality warnings.                                                                                                                                                                                                                                                                                                                                                      |
| `build_ext` | `log_level`          | `{"ERROR" \| "WARNING" \| "NOTICE" \| "STATUS" \| "VERBOSE" \| "DEBUG" \| "TRACE"}` | (CMake option) Set the log level                                                                                                                                                                                                                                                                                                                                                                                |
| `build_ext` | `log_context`        | `str`                                                                               | (CMake option) Enable the message() command outputting context attached to each message.                                                                                                                                                                                                                                                                                                                        |
| `build_ext` | `debug_trycompile`   | `bool`                                                                              | (CMake option) Do not delete the try_compile() build tree. Only useful on one try_compile() at a time.                                                                                                                                                                                                                                                                                                          |
| `build_ext` | `debug_output`       | `bool`                                                                              | (CMake option) Put cmake in a debug mode.                                                                                                                                                                                                                                                                                                                                                                       |
| `build_ext` | `debug_find`         | `bool`                                                                              | (CMake option) Put cmake find commands in a debug mode.                                                                                                                                                                                                                                                                                                                                                         |
| `build_ext` | `trace`              | `bool`                                                                              | (CMake option) Put cmake in trace mode.                                                                                                                                                                                                                                                                                                                                                                         |
| `build_ext` | `trace_expand`       | `bool`                                                                              | (CMake option) Put cmake in trace mode with variables expanded.                                                                                                                                                                                                                                                                                                                                                 |
| `build_ext` | `trace_format`       | `str`                                                                               | Put cmake in trace mode and sets the trace output format. Refer CMake documentation for the supported formats.                                                                                                                                                                                                                                                                                                  |
| `build_ext` | `trace_source`       | `str`                                                                               | Put cmake in trace mode, but output only lines of a specified file.                                                                                                                                                                                                                                                                                                                                             |
| `build_ext` | `trace_redirect`     | `str`                                                                               | Put cmake in trace mode and redirect trace output to a file instead of stderr.                                                                                                                                                                                                                                                                                                                                  |
| `build_ext` | `warn_uninitialized` | `bool`                                                                              | Specify a build system generator.                                                                                                                                                                                                                                                                                                                                                                               |
| `build_ext` | `warn_unused_vars`   | `bool`                                                                              | Warn about unused variables.                                                                                                                                                                                                                                                                                                                                                                                    |
| `build_ext` | `no_warn_unused_cli` | `bool`                                                                              | Don’t warn about command line options.                                                                                                                                                                                                                                                                                                                                                                          |
| `build_ext` | `check_system_vars`  | `bool`                                                                              | Find problems with variable usage in system files.                                                                                                                                                                                                                                                                                                                                                              |
| `build_ext` | `parallel`           | `int`                                                                               | The maximum number of concurrent processes to use when building.                                                                                                                                                                                                                                                                                                                                                |
| `build_ext` | `config`             | `str`                                                                               | (CMake option) For multi-configuration tools, choose this configuration.                                                                                                                                                                                                                                                                                                                                        |
| `build_ext` | `clean_first`        | `bool`                                                                              | (CMake option) Build target clean first, then build.                                                                                                                                                                                                                                                                                                                                                            |
| `build_ext` | `verbose`            | `bool`                                                                              | (CMake option) Enable verbose output - if supported - including the build commands to be executed.                                                                                                                                                                                                                                                                                                              |
| `build_ext` | `strip`              | `bool`                                                                              | (CMake option) Strip before installing.                                                                                                                                                                                                                                                                                                                                                                         |
